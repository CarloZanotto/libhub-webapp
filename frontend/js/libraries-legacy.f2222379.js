(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["libraries"],{"1b87":function(e,t,r){"use strict";r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return b})),r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return v})),r.d(t,"c",(function(){return w}));r("96cf");var n=r("1da1"),a=r("bc3a"),i=r.n(a),s=r("f121"),o=function(e){return"https://lib-hub-api.herokuapp.com/api/users/".concat(e,"/libraries")};function c(e,t){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o(t),{headers:{Authorization:r}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e,t,r){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o(t)+"/"+r,Object(s["a"])(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function m(e,t,r,n){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch(o(t)+"/"+r,n,Object(s["a"])(a));case 2:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function b(e,t,r){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(o(t),r,Object(s["a"])(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function h(e,t,r){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete(o(t)+"/"+r,Object(s["a"])(n));case 2:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function v(e,t,r,n){return y.apply(this,arguments)}function y(){return y=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.put(o(t)+"/"+r+"/co-own/"+n,{},Object(s["a"])(a));case 2:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(e,t,r){return k.apply(this,arguments)}function k(){return k=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o(t)+"/"+r+"/labels",Object(s["a"])(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}},"410e":function(e,t,r){"use strict";r.d(t,"g",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"f",(function(){return m})),r.d(t,"a",(function(){return b})),r.d(t,"e",(function(){return v})),r.d(t,"b",(function(){return w})),r.d(t,"c",(function(){return x})),r.d(t,"h",(function(){return R}));r("99af"),r("96cf");var n=r("1da1"),a=r("bc3a"),i=r.n(a),s=r("f121"),o=function(e){return"https://lib-hub-api.herokuapp.com/api/users/".concat(e,"/friends/friend-requests")};function c(e,t){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o(t)+"/sent",Object(s["a"])(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e,t,r){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete(o(t)+"/sent/".concat(r),Object(s["a"])(n));case 2:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o(t)+"/received",Object(s["a"])(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function b(e,t,r,n){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,a){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(o(t)+"/received/".concat(r),n,Object(s["a"])(a));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var h=function(e,t){return"https://lib-hub-api.herokuapp.com/api/users/".concat(e,"/friends/").concat(t)},g=function(e){return"https://lib-hub-api.herokuapp.com/api/users/".concat(e,"/friends")};function v(e,t){return y.apply(this,arguments)}function y(){return y=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(g(t),Object(s["a"])(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(e,t,r){return k.apply(this,arguments)}function k(){return k=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(h(t,r),{message:"zaWarudoooo"},Object(s["a"])(n));case 2:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function x(e,t,r){return _.apply(this,arguments)}function _(){return _=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete(h(t,r),Object(s["a"])(n));case 2:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return L=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("https://lib-hub-api.herokuapp.com/api/users/usernames",Object(s["a"])(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}},c122:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("display-libraries"),r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.show_InsertLibraryForm_Dialog,callback:function(t){e.show_InsertLibraryForm_Dialog=t},expression:"show_InsertLibraryForm_Dialog"}},[r("library-insert-form")],1),r("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.show_LibraryDetails_Dialog,callback:function(t){e.show_LibraryDetails_Dialog=t},expression:"show_LibraryDetails_Dialog"}},[r("library-details-dialog")],1)],1)],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},e._l(e.handledLibraries,(function(t){return n("v-card",{key:t._id,staticClass:"ma-2",attrs:{"max-width":"370"}},[n("v-img",{attrs:{height:"100%",src:r("d80c")}},[n("v-row",{staticClass:"fill-height",attrs:{align:"end"}},[n("v-col",{staticClass:"py-0"},[n("v-list-item",{attrs:{color:"rgba(0, 0, 0, .4)",dark:""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v(" "+e._s(t.name)+" ")]),n("v-list-item-subtitle")],1)],1)],1),n("v-col",{staticClass:"d-flex justify-end"},[n("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",fab:"",dark:"",color:"#62000F",title:"Open Library"},on:{click:function(r){return e.openLibrary(t._id)}}},[n("v-icon",[e._v("mdi-open-in-new")])],1),n("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",fab:"",dark:"",color:"#62000F",title:"Edit Library"},on:{click:function(r){return e.open_LibraryDetails_Dialog(t._id)}}},[n("v-icon",[e._v("mdi-pencil")])],1),n("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",fab:"",dark:"",color:"#62000F",title:"Delete Library"},on:{click:function(r){return e.deleteLibrary(t._id)}}},[n("v-icon",[e._v("mdi-delete")])],1)],1)],1)],1)],1)})),1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-card-text",{staticClass:"FAB-23"},[n("v-fab-transition",[n("v-btn",{attrs:{color:"#F83456",title:"Add book to this library",dark:"",absolute:"",bottom:"",right:"",fab:""},on:{click:e.open_InsertLibraryForm_Dialog}},[n("v-icon",[e._v("mdi-bookshelf")])],1)],1)],1)],1)],1),n("v-row",{attrs:{justify:"center"}})],1)},s=[],o=(r("c740"),r("a434"),r("96cf"),r("1da1")),c=r("1b87"),u={name:"DisplayLibraries",props:["id"],data:function(){return{info:null,user:{},loading:!1}},components:{},methods:{openLibrary:function(e){this.$router.push("/libraries/"+e+"/books").catch((function(){}))},open_InsertLibraryForm_Dialog:function(){this.$store.commit("show_InsertLibraryForm_Dialog")},open_LibraryDetails_Dialog:function(e){this.$store.commit("show_LibraryDetails_Dialog",e)},deleteLibrary:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.loading){r.next=16;break}return r.prev=1,t.loading=!0,n=t.$store.getters.getUser,r.next=6,Object(c["b"])(n._id,e,localStorage.getItem("accessToken"));case 6:r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](1),t.$store.commit("setErrorMessage",r.t0),t.$router.push("/error_page");case 12:return r.prev=12,t.loading=!1,r.finish(12);case 15:t.$store.state.libraries.splice(t.$store.state.libraries.findIndex((function(t){return t._id===e})),1);case 16:case"end":return r.stop()}}),r,null,[[1,8,12,15]])})))()}},computed:{handledLibraries:function(){return this.$store.getters.getLibraries}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$store.getters.getUser,t.next=4,Object(c["d"])(r._id,localStorage.getItem("accessToken"));case 4:n=t.sent,e.$store.commit("setLibraries",n),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$store.commit("setErrorMessage",t.t0),e.$router.push("/error_page");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},l=u,d=r("2877"),m=r("6544"),p=r.n(m),b=r("8336"),f=r("b0af"),h=r("99d9"),g=r("62ad"),v=r("a523"),y=r("0789"),w=r("132d"),k=r("adda"),x=r("da13"),_=r("5d23"),R=r("0fd9"),L=Object(d["a"])(l,i,s,!1,null,null,null),j=L.exports;p()(L,{VBtn:b["a"],VCard:f["a"],VCardText:h["c"],VCol:g["a"],VContainer:v["a"],VFabTransition:y["c"],VIcon:w["a"],VImg:k["a"],VListItem:x["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VRow:R["a"]});var O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Add Library")])]),r("v-card-text",[r("v-form",{ref:"form",staticStyle:{height:"100%"},attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"fill-height":""}},[r("v-row",{attrs:{align:"center"}},[r("v-col",[r("v-text-field",{attrs:{id:"name",placeholder:"name",label:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),r("v-row",{attrs:{align:"center"}},[r("v-col",[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.validate}},[e._v(" Insert ")])],1)],1)],1)],1)],1)],1)},$=[],C=(r("b0c0"),{name:"LibraryInsertForm",data:function(){return{valid:!0,loading:!1,name:""}},methods:{validate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate(),e.loading){t.next=20;break}return t.prev=2,e.loading=!0,r=e.$store.getters.getUser,n=localStorage.getItem("accessToken"),t.next=8,Object(c["g"])(r._id,e.createName,n);case 8:a=t.sent,e.$store.commit("addLibrary",e.createLibrary(a)),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),e.$store.commit("setErrorMessage",t.t0),e.$router.push("/error_page");case 16:return t.prev=16,e.loading=!1,e.$store.commit("hide_InsertLibraryForm_Dialog"),t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[2,12,16,20]])})))()},createLibrary:function(e){var t=this.$store.getters.getUser;return{name:this.name,owners:[t._id],schema:{ubications:[],resources:[]},_id:e}},createUbication:function(e){return{ubication:e}}},computed:{createName:function(){return{name:this.name}}}}),D=C,E=r("4bd4"),I=r("8654"),V=Object(d["a"])(D,O,$,!1,null,null,null),U=V.exports;p()(V,{VBtn:b["a"],VCard:f["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:g["a"],VContainer:v["a"],VForm:E["a"],VRow:R["a"],VTextField:I["a"]});var F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("v-row",[r("v-col",{staticClass:"d-flex align-center"},[r("v-btn",{staticClass:"mr-2",attrs:{icon:""},on:{click:e.close}},[r("v-icon",[e._v("mdi-close")])],1),r("v-container",{staticClass:"headline"},[e._v("Library Details")]),r("v-container",{staticClass:"d-flex justify-end"},[r("v-slide-x-reverse-transition",{attrs:{mode:"out-in"}},[r("v-icon",{key:"icon-"+e.editingAll,attrs:{color:e.editingAll?"success":"info"},domProps:{textContent:e._s(e.editingAll?"mdi-check-outline":"mdi-circle-edit-outline")},on:{click:e.editAll}})],1)],1)],1)],1)],1),r("v-card-text",[r("v-form",{ref:"form",staticStyle:{height:"100%"},attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{attrs:{"fill-height":""}},[r("v-row",{attrs:{align:"center",xs:""}},[r("v-col",[r("v-btn",{staticClass:"mb-2",attrs:{outlined:""},on:{click:function(t){return e.openLibraryTags()}}},[r("v-icon",[e._v("mdi-tag-multiple")]),r("span",[e._v("Edit Tags")])],1)],1)],1),r("v-row",{attrs:{align:"center",xs:""}},[r("v-col",[r("v-text-field",{attrs:{hint:e.isEditing.name?"Click the icon to lock":"Click the icon to edit",readonly:!e.isEditing.name,label:"Name — "+(e.isEditing.name?"Editable":"Readonly"),"prepend-icon":"mdi-bookshelf"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.UpdateName(t)}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[r("v-slide-x-reverse-transition",{attrs:{mode:"out-in"}},[r("v-icon",{key:"icon-"+e.isEditing.name,attrs:{color:e.isEditing.name?"success":"info"},domProps:{textContent:e._s(e.isEditing.name?"mdi-check-outline":"mdi-circle-edit-outline")},on:{click:function(t){e.isEditing.name=!e.isEditing.name}}})],1)]},proxy:!0}]),model:{value:e.library.name,callback:function(t){e.$set(e.library,"name",t)},expression:"library.name"}})],1)],1),r("v-row",{attrs:{align:"center",xs:""}},[r("v-col",[r("v-combobox",{attrs:{"hide-details":"","single-line":"",items:e.usernames,hint:e.isEditing.coown?"Click the icon to lock":"Click the icon to edit",readonly:!e.isEditing.coown,label:"Co-Own — "+(e.isEditing.coown?"Editable":"Readonly"),"prepend-icon":"mdi-share-variant","menu-props":"closeOnClick"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.shareLibrary(t)}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[r("v-slide-x-reverse-transition",{attrs:{mode:"out-in"}},[r("v-icon",{key:"icon-"+e.isEditing.coown,attrs:{color:e.isEditing.coown?"success":"info"},domProps:{textContent:e._s(e.isEditing.coown?"mdi-check-outline":"mdi-circle-edit-outline")},on:{click:function(t){e.isEditing.coown=!e.isEditing.coown}}})],1)]},proxy:!0}]),model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}})],1)],1),r("v-row",{attrs:{align:"center",xs:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{hint:e.isEditing.ubications?"Click the icon to lock":"Click the icon to edit",readonly:!e.isEditing.ubications,label:"Ubications — "+(e.isEditing.ubications?"Editable":"Readonly"),"prepend-icon":"mdi-bookshelf"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addUbication(t)}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[r("v-slide-x-reverse-transition",{attrs:{mode:"out-in"}},[r("v-icon",{key:"icon-"+e.isEditing.ubications,attrs:{color:e.isEditing.ubications?"success":"info"},domProps:{textContent:e._s(e.isEditing.ubications?"mdi-check-outline":"mdi-circle-edit-outline")},on:{click:function(t){e.isEditing.ubications=!e.isEditing.ubications}}})],1)]},proxy:!0}]),model:{value:e.ubicationName,callback:function(t){e.ubicationName=t},expression:"ubicationName"}})],1),e._l(e.library.schema.ubications,(function(t,n){return r("v-card",{key:n,staticClass:"ma-1"},[r("v-row",{staticClass:"d-flex align-center"},[r("v-col",{attrs:{cols:"6"}},[r("v-card-title",[e._v(" "+e._s(t)+" ")])],1),r("v-col",{attrs:{cols:"3"}},[r("v-container",{staticClass:"d-flex justify-end"},[r("v-btn",{attrs:{color:"#F83456",title:"Remove ubication",icon:"",small:""},on:{click:function(r){return e.removeUbi(t)}}},[r("v-icon",[e._v("mdi-close-thick")])],1)],1)],1)],1)],1)}))],2),r("v-row",{attrs:{align:"center",xs:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-file-input",{attrs:{rules:e.resource_rules,"show-size":!0,id:"ResourceImage",accept:"image/png, image/jpeg, image/bmp",placeholder:"Select Schema image","prepend-icon":"mdi-camera",label:"Resources"},scopedSlots:e._u([{key:"append-outer",fn:function(){return[r("v-btn",{attrs:{color:"succes"},on:{click:e.addResources}},[e._v(" Add ")])]},proxy:!0}])})],1),r("v-col",{staticClass:"d-flex justify-center"},[r("v-carousel",{staticStyle:{height:"300px",width:"300px"},attrs:{"hide-delimiter-background":"","show-arrows-on-hover":""}},e._l(e.library.schema.resources,(function(t,n){return r("v-carousel-item",{key:n},[r("v-img",{staticStyle:{height:"300px",width:"300px"},attrs:{src:t}},[r("v-container",{staticClass:"d-flex justify-end"},[r("v-btn",{attrs:{color:"#F83456",title:"Remove resource",icon:"",small:"",elevation:"24"},on:{click:function(r){return e.removeRes(t)}}},[r("v-icon",[e._v("mdi-close-thick")])],1)],1)],1)],1)})),1)],1)],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(" Library Shared with "),r("br"),e._v(e._s(e.selectedUser))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Ok ")])],1)],1)],1)],1)},S=[],T=(r("caad"),r("c975"),r("d3b7"),r("2532"),r("3ca3"),r("ddb0"),r("2b3d"),r("1f46")),A=(r("99af"),r("bc3a")),N=r.n(A),M=r("f121"),z=function(e,t){return"https://lib-hub-api.herokuapp.com/api/users/".concat(e,"/libraries/").concat(t,"/schema/resources")};function P(e,t,r,n){return B.apply(this,arguments)}function B(){return B=Object(o["a"])(regeneratorRuntime.mark((function e(t,r,n,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(z(t,r),n,Object(M["a"])(a));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}var J=r("410e"),q={name:"LibraryDetails",data:function(){return{model:null,dialog:!1,selectedUser:"",usernames:[],users:[],editingAll:!1,isEditing:{name:!1,ubications:!1,coown:!1},ubicationName:"",loading:!1,library:{name:"",schema:{ubications:[],resources:[]}},valid:!0,resource_rules:[function(e){return!e||e.size<2e6||"Avatar size should be less than 2 MB!"}]}},methods:{openLibraryTags:function(){this.$store.commit("hide_LibraryDetails_Dialog"),this.$router.push("/libraries/"+this.$store.state.LibraryId+"/tags").catch((function(){}))},close:function(){this.$store.commit("hide_LibraryDetails_Dialog")},editAll:function(){for(var e in this.editingAll=!this.editingAll,this.isEditing)this.isEditing[e]=this.editingAll},UpdateName:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading||!e.isEditing.name){t.next=18;break}return t.prev=1,e.loading=!0,r=e.$store.getters.getUser,t.next=6,Object(c["f"])(r._id,e.$store.state.LibraryId,{name:e.library.name},localStorage.getItem("accessToken"));case 6:for(n in e.$store.state.libraries)e.$store.state.libraries[n]._id===e.$store.state.LibraryId&&(e.$store.state.libraries[n].name=e.library.name);t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),e.$store.commit("hide_LibraryDetails_Dialog"),e.$store.commit("setErrorMessage",t.t0),e.$router.push("/error_page");case 14:return t.prev=14,e.loading=!1,e.isEditing.name=!1,t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[1,9,14,18]])})))()},shareLibrary:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading){t.next=16;break}for(a in t.prev=1,e.loading=!0,r=e.$store.getters.getUser,e.users)e.users[a].username===e.selectedUser&&(n=e.users[a]._id);return t.next=7,Object(c["a"])(r._id,e.$store.getters.getLibraryId,n,localStorage.getItem("accessToken"));case 7:e.dialog=!0,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})))()},addUbication:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading||e.library.schema.ubications.includes(e.ubicationName)){t.next=17;break}return t.prev=1,e.loading=!0,r=e.$store.getters.getUser,t.next=6,Object(T["b"])(r._id,e.$store.state.LibraryId,e.createPostUbication(),localStorage.getItem("accessToken"));case 6:e.library.schema.ubications.push(e.ubicationName),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),e.$store.commit("hide_LibraryDetails_Dialog"),e.$store.commit("setErrorMessage",t.t0),e.$router.push("/error_page");case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,9,14,17]])})))()},createPostUbication:function(){return{ubication:this.ubicationName}},addResources:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading){t.next=18;break}return t.prev=1,e.loading=!0,r=new FormData,n=e.$store.getters.getUser,r.append("resource",e.$refs.form.$el["ResourceImage"].files[0]),t.next=8,P(n._id,e.library._id,r,localStorage.getItem("accessToken"));case 8:a=window.URL.createObjectURL(e.$refs.form.$el["ResourceImage"].files[0]),e.library.schema.resources.push(a),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.$store.commit("hide_LibraryDetails_Dialog");case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},removeRes:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.loading)try{t.loading=!0,n=t.library.schema.resources.indexOf(e),-1!==n&&t.library.schema.resources.splice(n,1)}catch(a){t.$store.commit("setErrorMessage",a)}finally{t.loading=!1}case 1:case"end":return r.stop()}}),r)})))()},removeUbi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.loading)try{t.loading=!0,n=t.library.schema.ubications.indexOf(e),-1!==n&&t.library.schema.ubications.splice(n,1)}catch(a){t.$store.commit("setErrorMessage",a)}finally{t.loading=!1}case 1:case"end":return r.stop()}}),r)})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$store.getters.getUser,t.next=3,Object(c["e"])(r._id,e.$store.getters.getLibraryId,localStorage.getItem("accessToken"));case 3:return e.library=t.sent,t.next=6,Object(J["e"])(r._id,localStorage.getItem("accessToken"));case 6:for(n in e.users=t.sent,e.users)e.usernames.push(e.users[n].username);case 8:case"end":return t.stop()}}),t)})))()}},W=q,X=r("5e66"),G=r("3e35"),H=r("2b5d"),K=r("169a"),Q=r("23a7"),Y=r("2fa4"),Z=Object(d["a"])(W,F,S,!1,null,null,null),ee=Z.exports;p()(Z,{VBtn:b["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCarousel:X["a"],VCarouselItem:G["a"],VCol:g["a"],VCombobox:H["a"],VContainer:v["a"],VDialog:K["a"],VFileInput:Q["a"],VForm:E["a"],VIcon:w["a"],VImg:k["a"],VRow:R["a"],VSlideXReverseTransition:y["f"],VSpacer:Y["a"],VTextField:I["a"]});var te={name:"Libraries",components:{DisplayLibraries:j,LibraryInsertForm:U,LibraryDetailsDialog:ee},data:function(){return{uid:"none"}},mounted:function(){this.uid=this.$store.state.UserId},methods:{},computed:{show_InsertLibraryForm_Dialog:{get:function(){return this.$store.state.InsertLibraryForm_Dialog},set:function(e){e?this.$store.commit("show_InsertLibraryForm_Dialog"):this.$store.commit("hide_InsertLibraryForm_Dialog")}},show_LibraryDetails_Dialog:{get:function(){return this.$store.state.libraryDialog},set:function(e){e?this.$store.commit("show_LibraryDetails_Dialog",null):this.$store.commit("hide_LibraryDetails_Dialog")}}}},re=te,ne=Object(d["a"])(re,n,a,!1,null,null,null);t["default"]=ne.exports;p()(ne,{VContainer:v["a"],VDialog:K["a"],VRow:R["a"]})},d80c:function(e,t,r){e.exports=r.p+"img/library_background.832bddea.jpeg"}}]);
//# sourceMappingURL=libraries-legacy.f2222379.js.map